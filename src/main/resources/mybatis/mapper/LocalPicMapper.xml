<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> <mapper namespace="com.handcraft.mapper.LocalPicMapper">

    <resultMap id="BaseResultMap" type="com.handcraft.pojo.LocalPic" >
        <constructor >
            <idArg column="UUID" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="img_path" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="create_time" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="pic_type" jdbcType="TINYINT" javaType="java.lang.Byte"  />
        </constructor>
    </resultMap>

    <insert id="batchadd"  parameterType="com.handcraft.pojo.LocalPic" >
        insert into localpic(UUID, img_path,create_time,pic_type)
        values
        <foreach collection="list" item="item" index="index" separator=",">
             (#{item.UUID}, #{item.imgPath},#{item.createTime},#{item.picType})
        </foreach>
    </insert>

    <select id="queryone" resultMap="BaseResultMap">
    select UUID, img_path,create_time,pic_type
     from localpic
     where pic_type="1"
    order by create_time asc
    limit 1
    </select>

    <select id="queryonese" resultMap="BaseResultMap">
    select UUID, img_path,create_time,pic_type
     from localpic
     where pic_type="2"
    order by create_time asc
    limit 1
    </select>

    <delete id="delete" parameterType="String">

    delete from localpic where UUID=#{UUID}

    </delete>

</mapper>